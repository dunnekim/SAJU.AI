<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SAJU.AI - í†  ì • ë¹„ ê²°ğŸ”®</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'saju-cream': '#F9F8F4',
              'saju-accent': '#FF6B50',
              'saju-text': '#2D2D2D'
            },
            fontFamily: {
              sans: ['Pretendard Variable', 'Pretendard', '-apple-system', 'BlinkMacSystemFont', 'system-ui', 'Roboto', 'Noto Sans KR', 'Apple SD Gothic Neo', 'Malgun Gothic', 'sans-serif']
            }
          }
        }
      }
    </script>

    <!-- marked.js (Markdown renderer) -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <!-- Import maps: lunar-javascript (CDN only) -->
    <script type="importmap">
      {
        "imports": {
          "lunar-javascript": "https://esm.run/lunar-javascript"
        }
      }
    </script>

    <style>
      /* ì»¤ìŠ¤í…€ ì• ë‹ˆë©”ì´ì…˜ */
      @keyframes float {
        0%, 100% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-8px) rotate(3deg); }
      }
      .float-animation {
        animation: float 3s ease-in-out infinite;
      }
      @keyframes fade-in {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
      }
      .animate-fade-in {
        animation: fade-in 0.3s ease-out;
      }
    </style>
  </head>
  <body class="bg-saju-cream text-saju-text min-h-screen antialiased">
    <!-- ì¸ì¦ í‚¤ ì…ë ¥ ëª¨ë‹¬ -->
    <div id="apiKeyModal" class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-50 items-center justify-center p-4">
      <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 animate-fade-in">
        <div class="text-center mb-6">
          <div class="inline-block mb-4">
            <span class="text-5xl">ğŸ”‘</span>
          </div>
          <h2 class="text-2xl font-bold text-saju-text mb-2">ì¸ì¦ í‚¤ ì„¤ì •</h2>
          <p class="text-sm text-gray-600">
            ë¶„ì„ì„ ìœ„í•œ ì¸ì¦ í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”
          </p>
        </div>

        <div class="mb-6">
          <label for="apiKeyInput" class="block text-sm font-semibold text-gray-700 mb-2">
            ì¸ì¦ í‚¤
          </label>
          <input 
            id="apiKeyInput" 
            type="password" 
            placeholder="sk-proj-..." 
            class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-saju-accent focus:ring-2 focus:ring-saju-accent/20 transition-all font-mono text-sm"
          />
        </div>

        <div class="mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
          <div class="flex items-start gap-3">
            <span class="text-blue-600 text-xl flex-shrink-0">â„¹ï¸</span>
            <div class="text-sm text-blue-800">
              <p class="font-semibold mb-1">ì•ˆì „í•˜ê²Œ ì €ì¥ë©ë‹ˆë‹¤</p>
              <p class="text-blue-700">â€¢ ë¸Œë¼ìš°ì €ì—ë§Œ ì €ì¥ (ì„œë²„ ì „ì†¡ ì—†ìŒ)</p>
              <p class="text-blue-700">â€¢ ì™¸ë¶€ë¡œ ìœ ì¶œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤</p>
              <p class="text-blue-700 mt-2 text-xs">
                í‚¤ê°€ ì—†ìœ¼ì‹ ê°€ìš”? ê´€ë¦¬ìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”
              </p>
            </div>
          </div>
        </div>

        <button 
          id="saveKeyBtn"
          class="w-full bg-saju-accent text-white font-bold py-3 px-6 rounded-full hover:bg-[#FF5540] active:scale-[0.98] transition-all shadow-sm hover:shadow-md"
        >
          âœ¨ ì €ì¥í•˜ê³  ì‹œì‘í•˜ê¸°
        </button>
      </div>
    </div>

    <main class="max-w-2xl mx-auto px-4 py-8 md:py-12">
      <!-- í—¤ë” ì„¹ì…˜ -->
      <header class="text-center mb-12">
        <div class="inline-block float-animation mb-4">
          <span class="text-6xl">ğŸ”®</span>
        </div>
        <h1 class="text-4xl md:text-5xl font-bold text-saju-text mb-3 tracking-tight">
          SAJU.AI
        </h1>
        <p class="text-sm font-semibold tracking-[0.18em] text-saju-accent/90 mb-2">
          ì‚¬ì£¼ ë´ë“œë¦½ë‹ˆë‹¤
        </p>
        <p class="text-lg md:text-xl text-gray-600 font-medium">
          ë³µì±„ ì—†ìŠµë‹ˆë‹¤ âœ¨
        </p>
      </header>

      <!-- ì…ë ¥ í¼ ì¹´ë“œ -->
      <section class="bg-white rounded-2xl shadow-sm mb-8 p-6 md:p-8">
        <div class="mb-6">
          <h2 class="text-xl font-bold text-saju-text mb-2">ìƒë…„ì›”ì¼ ì…ë ¥</h2>
          <p class="text-sm text-gray-500">ì •í™•í•œ ë¶„ì„ì„ ìœ„í•´ ì¶œìƒ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</p>
        </div>
        <form id="sajuForm" autocomplete="off" class="space-y-6">
          <!-- ìƒë…„ì›”ì¼ í†µí•© (YYMMDD) + ì‹œê°„ -->
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label for="birthdate" class="block text-sm font-semibold text-gray-700 mb-2">ìƒë…„ì›”ì¼ (6ìë¦¬)</label>
              <input 
                id="birthdate" 
                type="text" 
                inputmode="numeric"
                pattern="[0-9]{6}"
                maxlength="6"
                placeholder="930721 (YYMMDD)" 
                required 
                class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-saju-accent focus:ring-2 focus:ring-saju-accent/20 transition-all"
              />
            </div>
            <div>
              <label for="birthHour" class="block text-sm font-semibold text-gray-700 mb-2">íƒœì–´ë‚œ ì‹œê°„ëŒ€</label>
              <select 
                id="birthHour"
                required 
                class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:border-saju-accent focus:ring-2 focus:ring-saju-accent/20 transition-all bg-white"
              >
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="23-01">ìì‹œ (23:00~01:00)</option>
                <option value="01-03">ì¶•ì‹œ (01:00~03:00)</option>
                <option value="03-05">ì¸ì‹œ (03:00~05:00)</option>
                <option value="05-07">ë¬˜ì‹œ (05:00~07:00)</option>
                <option value="07-09">ì§„ì‹œ (07:00~09:00)</option>
                <option value="09-11">ì‚¬ì‹œ (09:00~11:00)</option>
                <option value="11-13">ì˜¤ì‹œ (11:00~13:00)</option>
                <option value="13-15">ë¯¸ì‹œ (13:00~15:00)</option>
                <option value="15-17">ì‹ ì‹œ (15:00~17:00)</option>
                <option value="17-19">ìœ ì‹œ (17:00~19:00)</option>
                <option value="19-21">ìˆ ì‹œ (19:00~21:00)</option>
                <option value="21-23">í•´ì‹œ (21:00~23:00)</option>
              </select>
            </div>
          </div>

          <!-- ì„±ë³„ -->
          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-3">ì„±ë³„</label>
            <div class="flex gap-3" role="radiogroup" aria-label="gender">
              <label class="flex-1 cursor-pointer">
                <input type="radio" name="gender" value="male" checked class="peer sr-only" />
                <div class="px-4 py-3 border-2 border-gray-200 rounded-lg text-center font-medium transition-all peer-checked:border-saju-accent peer-checked:bg-saju-accent/5 peer-checked:text-saju-accent hover:border-gray-300">
                  ë‚¨
                </div>
              </label>
              <label class="flex-1 cursor-pointer">
                <input type="radio" name="gender" value="female" class="peer sr-only" />
                <div class="px-4 py-3 border-2 border-gray-200 rounded-lg text-center font-medium transition-all peer-checked:border-saju-accent peer-checked:bg-saju-accent/5 peer-checked:text-saju-accent hover:border-gray-300">
                  ì—¬
                </div>
              </label>
              <label class="flex-1 cursor-pointer">
                <input type="radio" name="gender" value="other" class="peer sr-only" />
                <div class="px-4 py-3 border-2 border-gray-200 rounded-lg text-center font-medium transition-all peer-checked:border-saju-accent peer-checked:bg-saju-accent/5 peer-checked:text-saju-accent hover:border-gray-300">
                  ê¸°íƒ€
                </div>
              </label>
            </div>
          </div>

          <!-- ì—°ì•  ìƒíƒœ -->
          <div>
            <label class="block text-sm font-semibold text-gray-700 mb-3">í˜„ì¬ ì—°ì•  ìƒíƒœ</label>
            <div class="grid grid-cols-2 md:grid-cols-3 gap-3" role="radiogroup" aria-label="relationship">
              <label class="cursor-pointer">
                <input type="radio" name="relationship" value="single" checked class="peer sr-only" />
                <div class="px-4 py-3 border-2 border-gray-200 rounded-lg text-center font-medium transition-all peer-checked:border-saju-accent peer-checked:bg-saju-accent/5 peer-checked:text-saju-accent hover:border-gray-300">
                  ì†”ë¡œ
                </div>
              </label>
              <label class="cursor-pointer">
                <input type="radio" name="relationship" value="dating" class="peer sr-only" />
                <div class="px-4 py-3 border-2 border-gray-200 rounded-lg text-center font-medium transition-all peer-checked:border-saju-accent peer-checked:bg-saju-accent/5 peer-checked:text-saju-accent hover:border-gray-300">
                  ì—°ì•  ì¤‘
                </div>
              </label>
              <label class="cursor-pointer">
                <input type="radio" name="relationship" value="plateau" class="peer sr-only" />
                <div class="px-4 py-3 border-2 border-gray-200 rounded-lg text-center font-medium transition-all peer-checked:border-saju-accent peer-checked:bg-saju-accent/5 peer-checked:text-saju-accent hover:border-gray-300">
                  ê¶Œíƒœê¸°
                </div>
              </label>
              <label class="cursor-pointer">
                <input type="radio" name="relationship" value="married" class="peer sr-only" />
                <div class="px-4 py-3 border-2 border-gray-200 rounded-lg text-center font-medium transition-all peer-checked:border-saju-accent peer-checked:bg-saju-accent/5 peer-checked:text-saju-accent hover:border-gray-300">
                  ê²°í˜¼
                </div>
              </label>
              <label class="cursor-pointer">
                <input type="radio" name="relationship" value="divorced" class="peer sr-only" />
                <div class="px-4 py-3 border-2 border-gray-200 rounded-lg text-center font-medium transition-all peer-checked:border-saju-accent peer-checked:bg-saju-accent/5 peer-checked:text-saju-accent hover:border-gray-300">
                  ì´í˜¼
                </div>
              </label>
              <label class="cursor-pointer">
                <input type="radio" name="relationship" value="widowed" class="peer sr-only" />
                <div class="px-4 py-3 border-2 border-gray-200 rounded-lg text-center font-medium transition-all peer-checked:border-saju-accent peer-checked:bg-saju-accent/5 peer-checked:text-saju-accent hover:border-gray-300">
                  ì‚¬ë³„
                </div>
              </label>
            </div>
          </div>


          <!-- (no API key UI) -->

          <!-- ì œì¶œ ë²„íŠ¼ -->
          <button 
            type="submit" 
            id="analyzeBtn"
            class="w-full bg-saju-accent text-white font-bold py-4 px-6 rounded-full hover:bg-[#FF5540] active:scale-[0.98] transition-all shadow-sm hover:shadow-md"
          >
            âœ¨ ë‚´ ì‚¬ì£¼ ë¶„ì„í•˜ê¸°
          </button>

        </form>
      </section>

      <!-- ìƒíƒœ ë©”ì‹œì§€ -->
      <div 
        id="status" 
        class="hidden mb-6 px-6 py-4 rounded-xl border-2 transition-all"
        aria-live="polite"
      ></div>

      <!-- ê²°ê³¼ ì¹´ë“œ -->
      <section class="bg-white rounded-2xl shadow-sm p-6 md:p-8">
        <div class="mb-6">
          <h2 class="text-xl font-bold text-saju-text flex items-center gap-2">
            <span>ğŸ“Š</span>
            <span>ë¶„ì„ ê²°ê³¼</span>
          </h2>
        </div>
        
        <article 
          id="result" 
          class="prose prose-stone max-w-none min-h-[200px]"
        >
          <div class="text-center py-12 text-gray-400">
            <p class="text-lg mb-2">ğŸ¯</p>
            <p>ìƒë…„ì›”ì¼ì„ ì…ë ¥í•˜ê³  ë¶„ì„í•˜ê¸° ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”</p>
          </div>
        </article>
      </section>

      <!-- í‘¸í„° ë…¸íŠ¸ -->
      <footer class="mt-8 px-4 py-6 bg-white/50 rounded-xl border border-gray-100 text-center">
        <p class="text-sm text-gray-600 mb-3">
          ğŸ’¡ ë¯¸ë˜ ì˜ˆì¸¡ì´ ì•„ë‹Œ, ë‹¹ì‹ ì˜ <span class="font-semibold text-saju-accent">ì‹¬ë¦¬ì™€ ì„±í–¥</span>ì„ ë¶„ì„í•©ë‹ˆë‹¤
        </p>
        <button 
          id="changeKeyBtn"
          class="hidden text-xs text-gray-500 hover:text-saju-accent transition-colors underline"
        >
          ğŸ”‘ ì¸ì¦ í‚¤ ë³€ê²½
        </button>
      </footer>
    </main>

    <script type="module" src="./script.js"></script>
  </body>
</html>
